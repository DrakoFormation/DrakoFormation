<!doctype html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Exercices | Cours de Rémi Jarjat</title><meta name="description" content="Les formations de Rémi Jarjat pour Human Booster">
    <link rel="preload" href="/cours/assets/style-BEIxaUV1.css" as="style"><link rel="stylesheet" href="/cours/assets/style-BEIxaUV1.css">
    <link rel="modulepreload" href="/cours/assets/app-BkblVdII.js"><link rel="modulepreload" href="/cours/assets/99-exercices.html-Hfy05qP_.js">
    <link rel="prefetch" href="/cours/assets/index.html-DNrA6HK6.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-CXP878eB.js" as="script"><link rel="prefetch" href="/cours/assets/00-intro.html-Bk8UQcqp.js" as="script"><link rel="prefetch" href="/cours/assets/05-ftp.html-E0Ur07Av.js" as="script"><link rel="prefetch" href="/cours/assets/10-wordpress.html-7q_yRW6f.js" as="script"><link rel="prefetch" href="/cours/assets/20-git.html-ID_OUtqT.js" as="script"><link rel="prefetch" href="/cours/assets/21-github-pages.html-BgRPfY28.js" as="script"><link rel="prefetch" href="/cours/assets/30-symfony-angular.html-ChdxRAKi.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-DYPvKtbL.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-D32X3tpQ.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-BB_fAsgA.js" as="script"><link rel="prefetch" href="/cours/assets/0-terminologie.html-DGfn3tkH.js" as="script"><link rel="prefetch" href="/cours/assets/1-before_start.html-C8oSeMYR.js" as="script"><link rel="prefetch" href="/cours/assets/2-init_local.html-CJ1oLmNZ.js" as="script"><link rel="prefetch" href="/cours/assets/3-record_changes.html-mTq4a0nY.js" as="script"><link rel="prefetch" href="/cours/assets/4-branches.html-CcALPmAX.js" as="script"><link rel="prefetch" href="/cours/assets/5-common-work.html-BuKBh4ba.js" as="script"><link rel="prefetch" href="/cours/assets/6-rollback.html-DCW2n4gz.js" as="script"><link rel="prefetch" href="/cours/assets/7-rewrite-history.html-CMox542w.js" as="script"><link rel="prefetch" href="/cours/assets/8-tools.html-dbbGRguW.js" as="script"><link rel="prefetch" href="/cours/assets/98-exercices.html-BdTaL4hu.js" as="script"><link rel="prefetch" href="/cours/assets/99-examples.html-C_ldXykC.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-kzVuneS9.js" as="script"><link rel="prefetch" href="/cours/assets/1-bases.html-CGEYN-2D.js" as="script"><link rel="prefetch" href="/cours/assets/2-logique.html-61J_sYJu.js" as="script"><link rel="prefetch" href="/cours/assets/3-dom.html-BRsCseWv.js" as="script"><link rel="prefetch" href="/cours/assets/4-jquery.html-BToUe5Mr.js" as="script"><link rel="prefetch" href="/cours/assets/5-ajax.html-B4q0yYBG.js" as="script"><link rel="prefetch" href="/cours/assets/6-poo.html-DwJiHe1p.js" as="script"><link rel="prefetch" href="/cours/assets/90-webpack.html-DFKynxKS.js" as="script"><link rel="prefetch" href="/cours/assets/98-outils.html-dtYJRMDJ.js" as="script"><link rel="prefetch" href="/cours/assets/99-revisions.html-DPkBzUUG.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-538Evebu.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-DQl6xswL.js" as="script"><link rel="prefetch" href="/cours/assets/0-install.html-DLL9VTcs.js" as="script"><link rel="prefetch" href="/cours/assets/1-historique.html-DUZ9QH8s.js" as="script"><link rel="prefetch" href="/cours/assets/2-dossiers.html-C8OBAZKb.js" as="script"><link rel="prefetch" href="/cours/assets/3-processus.html-DkBAb6HO.js" as="script"><link rel="prefetch" href="/cours/assets/4-bases.html-BRpP6Qoh.js" as="script"><link rel="prefetch" href="/cours/assets/5-advanced.html-Z6iglftC.js" as="script"><link rel="prefetch" href="/cours/assets/6-other-technologies.html-BPMMqcd8.js" as="script"><link rel="prefetch" href="/cours/assets/98-exercices.html-DdGSvc_3.js" as="script"><link rel="prefetch" href="/cours/assets/99-corrections.html-B9a9jG4k.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-CJUpZt3J.js" as="script"><link rel="prefetch" href="/cours/assets/00-environnement.html-eHcCWfO4.js" as="script"><link rel="prefetch" href="/cours/assets/01-bases.html-CEP22wx2.js" as="script"><link rel="prefetch" href="/cours/assets/02-tests-et-boucles.html-BJvaq02O.js" as="script"><link rel="prefetch" href="/cours/assets/03-fonctions.html-CySeJIXt.js" as="script"><link rel="prefetch" href="/cours/assets/04-user.html-BbC9tlnp.js" as="script"><link rel="prefetch" href="/cours/assets/05-temporisation-de-sortie.html-BprGTVyS.js" as="script"><link rel="prefetch" href="/cours/assets/10-doc.html-hbsDLq8X.js" as="script"><link rel="prefetch" href="/cours/assets/20-objet.html-tavW-9t-.js" as="script"><link rel="prefetch" href="/cours/assets/21-heritage.html-eZii40nq.js" as="script"><link rel="prefetch" href="/cours/assets/22-factorize.html-C_3OxGkX.js" as="script"><link rel="prefetch" href="/cours/assets/30-pdo.html-DZNmK1yi.js" as="script"><link rel="prefetch" href="/cours/assets/40-mvc.html-B7wW4tol.js" as="script"><link rel="prefetch" href="/cours/assets/50-rest.html-DA9kZAyq.js" as="script"><link rel="prefetch" href="/cours/assets/80-bases.html-DxX1aKvt.js" as="script"><link rel="prefetch" href="/cours/assets/81-multiple-files.html-DWDgT5CY.js" as="script"><link rel="prefetch" href="/cours/assets/82-post-session.html-CzHm_mUI.js" as="script"><link rel="prefetch" href="/cours/assets/83-cart-get-session.html-JZBhpCAK.js" as="script"><link rel="prefetch" href="/cours/assets/84-objects.html-CBCLsk4Q.js" as="script"><link rel="prefetch" href="/cours/assets/85-bdd-pdo.html-DLNT2Shx.js" as="script"><link rel="prefetch" href="/cours/assets/91-computer-preparation.html-04nylJYm.js" as="script"><link rel="prefetch" href="/cours/assets/92-jdr.html-PmXnWOug.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-BCpYffRo.js" as="script"><link rel="prefetch" href="/cours/assets/01-installation.html-zMXAMdp5.js" as="script"><link rel="prefetch" href="/cours/assets/10-structure.html-BqkOypUB.js" as="script"><link rel="prefetch" href="/cours/assets/20-routing.html-DEmbotUh.js" as="script"><link rel="prefetch" href="/cours/assets/21-controllers.html-Dw-shP-A.js" as="script"><link rel="prefetch" href="/cours/assets/22-twig.html-BtHhS6Zz.js" as="script"><link rel="prefetch" href="/cours/assets/23-injection.html-FYyHm-3g.js" as="script"><link rel="prefetch" href="/cours/assets/24-doctrine.html-Dy9mTQaU.js" as="script"><link rel="prefetch" href="/cours/assets/25-formulaires.html-ClWG20Ye.js" as="script"><link rel="prefetch" href="/cours/assets/26-translation.html-Bx0CL1gK.js" as="script"><link rel="prefetch" href="/cours/assets/27-event-listeners.html-Cbzkc52t.js" as="script"><link rel="prefetch" href="/cours/assets/30-user.html-BqWDoicu.js" as="script"><link rel="prefetch" href="/cours/assets/40-bundles.html-CcDr5e5S.js" as="script"><link rel="prefetch" href="/cours/assets/41-easy-admin.html-D4Tpj4o2.js" as="script"><link rel="prefetch" href="/cours/assets/42-api-platform.html-BFrCkmar.js" as="script"><link rel="prefetch" href="/cours/assets/80-cheat-sheet.html-CqetZgPG.js" as="script"><link rel="prefetch" href="/cours/assets/81-quotidien.html-3aoij3Mw.js" as="script"><link rel="prefetch" href="/cours/assets/82-docker.html-DANOmWA1.js" as="script"><link rel="prefetch" href="/cours/assets/90-doggies.html-CF6BnQw2.js" as="script"><link rel="prefetch" href="/cours/assets/index.html-Cky5vnQE.js" as="script"><link rel="prefetch" href="/cours/assets/404.html-BBk7B_gA.js" as="script"><link rel="prefetch" href="/cours/assets/mermaid.esm.min-DlybqT7H.js" as="script"><link rel="prefetch" href="/cours/assets/prod-C3uXySb1.js" as="script"><link rel="prefetch" href="/cours/assets/prod-C3uXySb1.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-audio-DWxEHD26.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-video-BzoGie0P.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-hls-DfU-v-dq.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-dash-D54rnz3i.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-vimeo-BK2DV3IR.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-krOAtKMi-C3UUF7YD.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-youtube-DYOMeSWP.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-Zc3I7oOd-CA6XwpqT.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-CWDlegKy-CNXmzpVv.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-D0D6ufFF-BTjCMPz2.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-player-default-layout-uAtmJz4O.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-player-ui-3Hy2pYjc.js" as="script"><link rel="prefetch" href="/cours/assets/vidstack-QR8zGkwr-hi-wEx3g.js" as="script"><link rel="prefetch" href="/cours/assets/setupDevtools-7MC2TMWH-C80vdosD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/cours/"><img class="vp-site-logo" src="/cours/assets/LogoHB2.png" alt="Cours de Rémi Jarjat"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Cours de Rémi Jarjat</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><!----><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/cours/" aria-label="Liste des cours"><!---->Liste des cours<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/cours/general/" aria-label="Culture numérique"><!---->Culture numérique<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/cours/git/" aria-label="Git"><!---->Git<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/0-terminologie.html" aria-label="Terminologie"><!---->Terminologie<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/1-before_start.html" aria-label="Avant de commencer"><!---->Avant de commencer<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/2-init_local.html" aria-label="Créer un dépôt (local)"><!---->Créer un dépôt (local)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/3-record_changes.html" aria-label="Enregistrer des changements"><!---->Enregistrer des changements<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/4-branches.html" aria-label="Des branches"><!---->Des branches<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/5-common-work.html" aria-label="Mise en commun du travail"><!---->Mise en commun du travail<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/6-rollback.html" aria-label="Annuler des changements"><!---->Annuler des changements<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/7-rewrite-history.html" aria-label="Réécrire l&#39;historique"><!---->Réécrire l&#39;historique<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/8-tools.html" aria-label="Des outils pour se simplifier Git"><!---->Des outils pour se simplifier Git<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/98-exercices.html" aria-label="Exercices"><!---->Exercices<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/git/99-examples.html" aria-label="Exemples pratiques"><!---->Exemples pratiques<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/cours/linux/" aria-label="Linux"><!---->Linux<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/0-install.html" aria-label="Installation"><!---->Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/1-historique.html" aria-label="Historique"><!---->Historique<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/2-dossiers.html" aria-label="Rangement des fichiers"><!---->Rangement des fichiers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/3-processus.html" aria-label="Les processus"><!---->Les processus<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/4-bases.html" aria-label="Commandes de base"><!---->Commandes de base<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/5-advanced.html" aria-label="Commandes avancées"><!---->Commandes avancées<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/6-other-technologies.html" aria-label="/linux/6-other-technologies.html"><!---->/linux/6-other-technologies.html<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/98-exercices.html" aria-label="Exercices"><!---->Exercices<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/linux/99-corrections.html" aria-label="Correction des exercices"><!---->Correction des exercices<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/cours/php/" aria-label="PHP"><!---->PHP<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/00-environnement.html" aria-label="Environnement de travail"><!---->Environnement de travail<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/01-bases.html" aria-label="Bases du PHP"><!---->Bases du PHP<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/02-tests-et-boucles.html" aria-label="Tests et boucles"><!---->Tests et boucles<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/03-fonctions.html" aria-label="Procédures et fonctions"><!---->Procédures et fonctions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/04-user.html" aria-label="Interagir avec l&#39;utilisateur"><!---->Interagir avec l&#39;utilisateur<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/05-temporisation-de-sortie.html" aria-label="La temporisation de sortie"><!---->La temporisation de sortie<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/10-doc.html" aria-label="PHP Doc et PSR"><!---->PHP Doc et PSR<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/20-objet.html" aria-label="PHP Orienté objet"><!---->PHP Orienté objet<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/21-heritage.html" aria-label="Héritage et objets"><!---->Héritage et objets<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/22-factorize.html" aria-label="Factorisation"><!---->Factorisation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/30-pdo.html" aria-label="Manipuler la BdD avec PDO (PHP Data Object)"><!---->Manipuler la BdD avec PDO (PHP Data Object)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/40-mvc.html" aria-label="Architecture MVC"><!---->Architecture MVC<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/50-rest.html" aria-label="Webservices REST"><!---->Webservices REST<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/80-bases.html" aria-label="Exercices - Bases"><!---->Exercices - Bases<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/81-multiple-files.html" aria-label="Exercices - Séparer en plusieurs fichiers"><!---->Exercices - Séparer en plusieurs fichiers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/82-post-session.html" aria-label="Exercices - POST et SESSION"><!---->Exercices - POST et SESSION<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/83-cart-get-session.html" aria-label="Exercices - Panier et validation"><!---->Exercices - Panier et validation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/84-objects.html" aria-label="Exercices - Objets"><!---->Exercices - Objets<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/85-bdd-pdo.html" aria-label="Exercices - BdD avec PDO"><!---->Exercices - BdD avec PDO<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/91-computer-preparation.html" aria-label="Projet - montage d&#39;ordinateurs"><!---->Projet - montage d&#39;ordinateurs<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/php/92-jdr.html" aria-label="Projet - Personnages de Jeux de Rôle"><!---->Projet - Personnages de Jeux de Rôle<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active collapsible" href="/cours/symfony/" aria-label="Symfony"><!---->Symfony<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/01-installation.html" aria-label="Installer Symfony et son environnement de travail"><!---->Installer Symfony et son environnement de travail<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/10-structure.html" aria-label="Structure et utilisation d&#39;un projet"><!---->Structure et utilisation d&#39;un projet<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/20-routing.html" aria-label="Le routing"><!---->Le routing<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/21-controllers.html" aria-label="Les controllers"><!---->Les controllers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/22-twig.html" aria-label="Twig"><!---->Twig<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/23-injection.html" aria-label="Les services et l&#39;injection de dépendances"><!---->Les services et l&#39;injection de dépendances<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/24-doctrine.html" aria-label="Doctrine et la BdD"><!---->Doctrine et la BdD<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/25-formulaires.html" aria-label="Formulaires"><!---->Formulaires<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/26-translation.html" aria-label="Les traductions"><!---->Les traductions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/27-event-listeners.html" aria-label="Event listeners/subscribers"><!---->Event listeners/subscribers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/30-user.html" aria-label="Connexion et sécurisation"><!---->Connexion et sécurisation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/40-bundles.html" aria-label="Bundles"><!---->Bundles<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/41-easy-admin.html" aria-label="Easy Admin Bundle"><!---->Easy Admin Bundle<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/42-api-platform.html" aria-label="API Platform"><!---->API Platform<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/80-cheat-sheet.html" aria-label="Pense-bêtes"><!---->Pense-bêtes<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/81-quotidien.html" aria-label="Symfony au quotidien"><!---->Symfony au quotidien<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/82-docker.html" aria-label="Travailler avec Docker"><!---->Travailler avec Docker<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/symfony/90-doggies.html" aria-label="Projet : annonces de SPA / éleveurs"><!---->Projet : annonces de SPA / éleveurs<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/cours/symfony/99-exercices.html" aria-label="Exercices"><!---->Exercices<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/cours/js/" aria-label="Javascript"><!---->Javascript<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/1-bases.html" aria-label="Les bases du langage"><!---->Les bases du langage<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/2-logique.html" aria-label="Manipulation logique"><!---->Manipulation logique<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/3-dom.html" aria-label="Le DOM"><!---->Le DOM<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/4-jquery.html" aria-label="JQuery"><!---->JQuery<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/5-ajax.html" aria-label="Ajax"><!---->Ajax<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/6-poo.html" aria-label="Programmation orientée objet"><!---->Programmation orientée objet<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/90-webpack.html" aria-label="Webpack"><!---->Webpack<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/98-outils.html" aria-label="Outils utiles"><!---->Outils utiles<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/js/99-revisions.html" aria-label="Révisions"><!---->Révisions<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/cours/lamp/" aria-label="Serveur Lamp"><!---->Serveur Lamp<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/cours/deploy/" aria-label="Déploiement"><!---->Déploiement<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/cours/deploy/00-intro.html" aria-label="Des outils et manières de faire"><!---->Des outils et manières de faire<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/deploy/05-ftp.html" aria-label="Déploiement par FTP"><!---->Déploiement par FTP<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/deploy/10-wordpress.html" aria-label="Wordpress"><!---->Wordpress<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/deploy/20-git.html" aria-label="Intégrer Git dans le processus"><!---->Intégrer Git dans le processus<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/deploy/21-github-pages.html" aria-label="GitHub Pages pour déployer facilement"><!---->GitHub Pages pour déployer facilement<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/cours/deploy/30-symfony-angular.html" aria-label="Symfony et Angular"><!---->Symfony et Angular<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/cours/docker/" aria-label="Docker"><!---->Docker<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/cours/ci/" aria-label="Intégration continue"><!---->Intégration continue<!----></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="exercices" tabindex="-1"><a class="header-anchor" href="#exercices"><span>Exercices</span></a></h1><p>La correction de ces exercices est disponible sur un <a href="https://github.com/Dreeckan/test-symfony" target="_blank" rel="noopener noreferrer">repository Github dédié</a></p><nav class="table-of-contents"><ul><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_1-creer-une-premiere-page-avec-symfony-exercice-guide" class="router-link-active router-link-exact-active">1. Créer une première page avec Symfony (exercice guidé)</a><ul><li><a aria-current="page" href="/cours/symfony/99-exercices.html#resolution" class="router-link-active router-link-exact-active">Résolution</a></li></ul></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_2-exercice-apprivoiser-le-controller-et-la-vue" class="router-link-active router-link-exact-active">2. Exercice (apprivoiser le controller et la vue)</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_3-exercice-apprivoiser-twig-et-sa-documentation" class="router-link-active router-link-exact-active">3. Exercice (apprivoiser Twig et sa documentation)</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_4-manier-des-assets-les-controllers-et-twig" class="router-link-active router-link-exact-active">4. Manier des assets, les controllers et Twig</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_5-manier-doctrine-pour-utiliser-une-bdd" class="router-link-active router-link-exact-active">5. Manier Doctrine pour utiliser une BdD</a><ul><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_5-1-configuration-et-creation-de-la-base" class="router-link-active router-link-exact-active">5.1. Configuration et création de la base</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_5-2-creation-d-entites-et-de-leurs-champs" class="router-link-active router-link-exact-active">5.2. Création d&#39;entités et de leurs champs</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_5-3-migration" class="router-link-active router-link-exact-active">5.3. Migration</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_5-4-utiliser-ces-entites-dans-les-controllers" class="router-link-active router-link-exact-active">5.4. Utiliser ces entités dans les controllers</a></li></ul></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_6-manier-le-querybuilder" class="router-link-active router-link-exact-active">6. Manier le QueryBuilder</a></li><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_7-projet-outil-de-montage-d-ordinateurs" class="router-link-active router-link-exact-active">7. Projet : outil de montage d&#39;ordinateurs</a><ul><li><a aria-current="page" href="/cours/symfony/99-exercices.html#_7-1-premieres-ameliorations" class="router-link-active router-link-exact-active">7.1. Premières améliorations</a></li></ul></li></ul></nav><h2 id="_1-creer-une-premiere-page-avec-symfony-exercice-guide" tabindex="-1"><a class="header-anchor" href="#_1-creer-une-premiere-page-avec-symfony-exercice-guide"><span>1. Créer une première page avec Symfony (exercice guidé)</span></a></h2><ul><li>Avoir un projet Symfony neuf (fraîchement créé, sans modification)</li><li>Créer une page qui va être disponible sur l&#39;uri <code>/page</code></li><li>Afficher un lorem ipsum <code>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus a dolor eleifend, efficitur elit sed, auctor sapien. Nulla lobortis augue sagittis viverra cursus. Fusce laoreet.</code></li></ul><h3 id="resolution" tabindex="-1"><a class="header-anchor" href="#resolution"><span>Résolution</span></a></h3><ul><li>On crée notre projet (si ça n&#39;est pas déjà fait), avec la commande <code>symfony new --webapp my_project</code></li><li>On l&#39;ouvre avec notre IDE et on lance le serveur Symfony (<code>symfony serve</code> dans un terminal)</li><li>On crée notre controller (nous sommes dans un projet neuf, nous n&#39;en avons pas), avec la commande <code>php bin/console make:controller</code>. Nommons-le <code>DefaultController</code></li><li>Nous avons une nouvelle classe créée dans <code>src/Controller/DefaultController.php</code> et un nouveau template (une nouvelle vue) dans <code>template/default/index.html.twig</code></li><li>Regardons <code>src/Controller/DefaultController.php</code> :</li></ul><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Bundle<span class="token punctuation">\</span>FrameworkBundle<span class="token punctuation">\</span>Controller<span class="token punctuation">\</span>AbstractController</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpFoundation<span class="token punctuation">\</span>Response</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>Annotation<span class="token punctuation">\</span>Route</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name-definition class-name">DefaultController</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractController</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * @Route(&quot;/&quot;, name=&quot;homepage&quot;)</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">Response</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;default/index.html.twig&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;controller_name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;DefaultController&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Il contient une classe <code>DefaultController</code> (qui étend <code>AbstractController</code>, venu de Symfony) et une méthode <code>index()</code> (c&#39;est elle qui va particulièrement nous intéresser)</li><li>Cette méthode <code>index()</code> a une annotation (commentaire commençant par <code>@</code>) nommée <code>Route</code>. Il s&#39;agit d&#39;une annotation permettant à Symfony de faire le lien entre une URi et une méthode de controller (aussi appelée action) à exécuter. Ici, <code>index()</code> sera appelée si nous chargeons la racine du site (<code>http://127.0.0.1:8000/</code>, en somme).</li><li><code>index()</code> va faire une seule chose : renvoyer un html, construit à partir du fichier <code>default/index.html.twig</code> (qui se trouve dans le dossier <code>templates</code>). Pour se faire, on va appeler la méthode <code>render()</code> du controller, qui va créer un rendu de notre fichier Twig (en faire un html), en utilisant le tableau de paramètres, passé en deuxième argument.</li></ul><p>Regardons maintenant notre fichier <code>templates/default/index.html.twig</code> (j&#39;enlève le html présent, pour simplifier l&#39;affichage) :</p><div class="language-twig line-numbers-mode" data-highlighter="prismjs" data-ext="twig" data-title="twig"><pre><code><span class="line"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">extends</span> <span class="token string"><span class="token punctuation">&#39;</span>base.html.twig<span class="token punctuation">&#39;</span></span> <span class="token delimiter punctuation">%}</span></span></span>
<span class="line"></span>
<span class="line"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">block</span> title <span class="token delimiter punctuation">%}</span></span>Hello DefaultController!<span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endblock</span> <span class="token delimiter punctuation">%}</span></span></span>
<span class="line"></span>
<span class="line"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">block</span> body <span class="token delimiter punctuation">%}</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello <span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> controller_name <span class="token delimiter punctuation">}}</span></span>! ✅<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endblock</span> <span class="token delimiter punctuation">%}</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Plusieurs choses à voir ici aussi :</p><ul><li>La syntaxe de Twig : <ul><li>les tags <code>{% %}</code> : pour les divers mots clés du langage propre à Twig (conditions, extensions, blocs, etc.)</li><li>les <code>{{ }}</code> (affectueusement appelées moustaches) : pour afficher une valeur (ici, le contenu d&#39;une variable <code>controller_name</code>)</li></ul></li><li>Ce fichier étend <code>templates/base.html.twig</code>, il en récupère donc les blocs et les étends. Il est impossible de mettre du texte en dehors d&#39;un bloc, si vous étendez une vue.</li></ul><p>Voilà, vous avez fait votre première page avec Symfony !</p><h2 id="_2-exercice-apprivoiser-le-controller-et-la-vue" tabindex="-1"><a class="header-anchor" href="#_2-exercice-apprivoiser-le-controller-et-la-vue"><span>2. Exercice (apprivoiser le controller et la vue)</span></a></h2><ul><li>On veut créer une nouvelle page (avec l&#39;URi <code>/page</code>, dans le controller <code>DefaultController</code>)</li><li>Dans la méthode du controller, déclarer une variable <code>$test</code> et l&#39;initialiser à <code>false</code></li><li>Créer un nouveau template <code>default/page.html.twig</code> qui va hériter de <code>base.html.twig</code></li><li>Envoyer la variable <code>$test</code> dans la vue</li><li>Utiliser la fonction <code>dump()</code> pour afficher toutes les variables disponibles dans la vue si <code>$test</code> vaut <code>true</code></li><li>Vérifier en faisant varier <code>$test</code> dans la méthode du controller</li></ul><h2 id="_3-exercice-apprivoiser-twig-et-sa-documentation" tabindex="-1"><a class="header-anchor" href="#_3-exercice-apprivoiser-twig-et-sa-documentation"><span>3. Exercice (apprivoiser Twig et sa documentation)</span></a></h2><ul><li>Nous allons continuer à expérimenter dans le même projet Symfony</li><li>Dans le <a href="/assets/exercice-integration.zip" target="_blank" rel="noopener noreferrer">fichier zip joint</a>, récupérer les fichiers et les insérer dans le dossier <code>public</code> de votre projet</li><li>Créer une route (dans le controller de votre choix, vous pouvez en créer un nouveau pour vous entrainer) et une action (attention, bien définir une nouvelle URi, comme <code>/page/devbook</code>)</li><li>Reprendre le contenu du fichier <code>index.html</code> et faire en sorte qu&#39;il hérite de <code>base.html.twig</code> (utiliser les <code>block</code> définis dans ce fichier pour y ranger les js et css)</li><li>Vérifier l&#39;affichage</li><li>Normalement, les images, css et javascripts ne devraient pas se charger correctement, il va falloir utiliser la <a href="https://symfony.com/doc/current/reference/twig_reference.html#asset" target="_blank" rel="noopener noreferrer">fonction asset() de Twig</a> pour les charger</li><li>Vérifier régulièrement l&#39;affichage et que tout se charge</li><li>Une fois fait, découper votre fichier HTML en plusieurs fichiers (un fichier twig par section, par exemple, un fichier <code>hero-section.html.twig</code>) et inclure les différents fichiers à l&#39;aide du <a href="https://twig.symfony.com/doc/3.x/tags/include.html" target="_blank" rel="noopener noreferrer">tag include de Twig</a></li><li>Normalement, votre affichage doit être le même qu&#39;au début, mais vous avez découpé le tout en plusieurs fichiers (plus faciles à maintenir)</li></ul><h2 id="_4-manier-des-assets-les-controllers-et-twig" tabindex="-1"><a class="header-anchor" href="#_4-manier-des-assets-les-controllers-et-twig"><span>4. Manier des assets, les controllers et Twig</span></a></h2><ul><li>Nous allons travailler sur votre Business Case</li><li>Le but est de créer les pages demandées (nous allons commencer par les pages statiques et sans formulaire), avec leurs images, css et javascripts.</li></ul><h2 id="_5-manier-doctrine-pour-utiliser-une-bdd" tabindex="-1"><a class="header-anchor" href="#_5-manier-doctrine-pour-utiliser-une-bdd"><span>5. Manier Doctrine pour utiliser une BdD</span></a></h2><h3 id="_5-1-configuration-et-creation-de-la-base" tabindex="-1"><a class="header-anchor" href="#_5-1-configuration-et-creation-de-la-base"><span>5.1. Configuration et création de la base</span></a></h3><ul><li>Dans notre projet de test (dans lequel nous avons fait les exercices 1, 2 et 3), nous allons ajouter des entités et synchroniser notre BdD</li><li>Nous allons avoir besoin que Wamp/Mamp soit démarré pour avoir MySQL et PhpMyAdmin</li><li>Configurer votre base de données et la créer avec la ligne de commande <ul><li>Dans le fichier <code>.env</code>, mettre à jour le paramètre <code>DATABASE_URL</code> avec vos informations de connexion et le nom de votre BdD</li><li>Créer la BdD avec la commande <code>php bin/console doctrine:database:create</code></li></ul></li></ul><h3 id="_5-2-creation-d-entites-et-de-leurs-champs" tabindex="-1"><a class="header-anchor" href="#_5-2-creation-d-entites-et-de-leurs-champs"><span>5.2. Création d&#39;entités et de leurs champs</span></a></h3><ul><li><p>Créons deux entités, à l&#39;aide de la commande <code>php bin/console make:entity</code> :</p><ul><li><code>Composer</code> ayant 6 propriétés : <ul><li><code>id</code> (entier, généré automatiquement)</li><li><code>name</code> (string, longueur de 255, non null)</li><li><code>description</code> (texte, non null)</li><li><code>birth</code> (entier)</li><li><code>death</code> (entier)</li><li><code>birthCountry</code> (string, longueur de 128)</li></ul></li><li><code>Music</code> ayant 4 propriétés : <ul><li><code>id</code> (entier, généré automatiquement)</li><li><code>name</code> (string, longueur de 255, non null)</li><li><code>year</code> (entier)</li><li><code>composer</code> (une relation avec <code>Composer</code> de type <code>ManyToOne</code>)</li></ul></li></ul></li><li><p>Regardons les fichiers générés par notre commande. Les deux premiers sont nos entités (objet PHP simple, avec des annotations pour le lien avec la BdD). Les suivants sont nos repositories (ce sont eux qui vont nous permettre de faire des requêtes).</p><ul><li><code>src/Entity/Composer.php</code></li><li><code>src/Entity/Music.php</code></li><li><code>src/Repository/ComposerRepository.php</code></li><li><code>src/Repository/MusicRepository.php</code></li></ul></li></ul><h3 id="_5-3-migration" tabindex="-1"><a class="header-anchor" href="#_5-3-migration"><span>5.3. Migration</span></a></h3><ul><li>Créer et jouer la migration qui correspond <ul><li><code>php bin/console doctrine:migrations:diff</code> pour créer la migration</li><li>Vérifier le fichier de migration correspondant (son nom est affiché par la commande)</li><li><code>php bin/console doctrine:migrations:migrate</code> pour la lancer</li><li>Vérifier que les tables sont bien créées et que tous les champs sont bien présents</li></ul></li></ul><h3 id="_5-4-utiliser-ces-entites-dans-les-controllers" tabindex="-1"><a class="header-anchor" href="#_5-4-utiliser-ces-entites-dans-les-controllers"><span>5.4. Utiliser ces entités dans les controllers</span></a></h3><h4 id="_5-4-1-appeler-le-repository-pour-recuperer-tous-les-objets-composer" tabindex="-1"><a class="header-anchor" href="#_5-4-1-appeler-le-repository-pour-recuperer-tous-les-objets-composer"><span>5.4.1. Appeler le repository pour récupérer tous les objets Composer</span></a></h4><ul><li>Créer une route pour le chemin <code>/composer</code> (et un nouveau controller) qui va : <ul><li>Prendre en paramètre <code>ComposerRepository</code> (c&#39;est-à-dire que votre action sera de cette forme <code>public function monAction(ComposerRepository $composerRepository)</code>)</li><li>Récupérer la liste des compositeurs (<code>Composer</code>) à l&#39;aide de <code>$composerRepository-&gt;findAll()</code></li><li>Créer la vue correspondante (fichier Twig comme <code>templates/composer/index.html.twig</code>, par exemple) et utiliser la méthode <code>$this-&gt;render()</code> du controller pour renvoyer une <code>Response</code></li><li>Dans la vue, afficher vos objets dans un tableau html (ils vous avaient manqué, j&#39;en suis sûr)</li></ul></li></ul><h4 id="_5-4-2-creer-des-objets-et-les-sauvegarder-en-base" tabindex="-1"><a class="header-anchor" href="#_5-4-2-creer-des-objets-et-les-sauvegarder-en-base"><span>5.4.2. Créer des objets et les sauvegarder en base</span></a></h4><ul><li>Créer une route pour le chemin <code>/composer/new</code> (dans le même controller que précédemment) qui va : <ul><li>Prendre en paramètre <code>EntityManagerInterface</code> (c&#39;est-à-dire que votre action sera de cette forme <code>public function monAction(EntityManagerInterface $entityManager)</code>)</li><li>Créer un ou des objets <code>Composer</code> (avec un <code>new Composer</code>)</li><li>Les persister en base (méthodes <code>persist($object)</code> et <code>flush()</code> du service <code>EntityManagerInterface</code>)</li><li>Rediriger vers la page de liste <code>/composer</code></li></ul></li></ul><h4 id="_5-4-3-recuperer-un-objet-par-son-identifiant" tabindex="-1"><a class="header-anchor" href="#_5-4-3-recuperer-un-objet-par-son-identifiant"><span>5.4.3. Récupérer un objet par son identifiant</span></a></h4><ul><li>Créer une route pour le chemin <code>/composer/{id}</code> (dans le même controller que précédemment) qui va : <ul><li>Prendre en paramètre un objet <code>Composer</code> (c&#39;est-à-dire que votre action sera de cette forme <code>public function monAction(Composer $composer)</code>)</li><li>Créer un template qui va en afficher les différentes propriétés (y compris les différents objets <code>Music</code> associés, que vous pouvez récupérer avec <code>composer.musics</code> dans votre template)</li></ul></li></ul><h4 id="_5-4-4-aller-un-peu-plus-loin-avec-l-objet-music" tabindex="-1"><a class="header-anchor" href="#_5-4-4-aller-un-peu-plus-loin-avec-l-objet-music"><span>5.4.4. Aller un peu plus loin avec l&#39;objet Music</span></a></h4><p>Pour tout ce qui a été fait jusqu&#39;ici, il y a un <a href="https://www.loom.com/share/09a47cb371e24523ac05043d5fb54f53" target="_blank" rel="noopener noreferrer">corrigé vidéo</a> si vous le souhaitez. Le corrigé de ce qui suit est <a href="https://www.loom.com/share/2b370106884f405da6335ae8975091c1" target="_blank" rel="noopener noreferrer">disponible dans cette vidéo</a></p><p>Nous allons faire de même avec les objets <code>Music</code></p><ul><li><p>Créer une route pour le chemin <code>/music</code> (et un nouveau controller <code>MusicController</code>) qui va :</p><ul><li>Prendre en paramètre <code>MusicRepository</code> (c&#39;est-à-dire que votre action sera de cette forme <code>public function monAction(MusicRepository $musicRepository)</code>)</li><li>Récupérer la liste des morceaux (<code>Music</code>) à l&#39;aide de <code>$musicRepository-&gt;findAll()</code></li><li>Créer la vue correspondante (fichier Twig comme <code>templates/music/index.html.twig</code>, par exemple) et utiliser la méthode <code>$this-&gt;render()</code> du controller pour renvoyer une <code>Response</code></li><li>Dans la vue, afficher vos objets dans un tableau html (ils vous avaient manqué, j&#39;en suis sûr)</li></ul></li><li><p>Créer une route pour le chemin <code>/music/new</code> (dans le même controller que précédemment) qui va :</p><ul><li>Prendre en paramètre <code>EntityManagerInterface</code> et <code>ComposerRepository</code> (c&#39;est-à-dire que votre action sera de cette forme <code>public function monAction(EntityManagerInterface $entityManager, ComposerRepository $composerRepository)</code>)</li><li>Créer un ou des objets <code>Music</code> (avec un <code>new Music</code>)</li><li>Récupérer un ou des objets <code>Composer</code> et les associer à vos objets <code>Music</code> fraîchement créés <ul><li>Pour cela, nous allons utiliser <code>$composerRepository-&gt;findBy([&#39;name&#39; =&gt; &quot;nom d&#39;un compositeur que vous avez entré&quot;])</code> pour chercher un compositeur</li><li><code>findBy</code> permet de faire une requête <code>SELECT</code> avec des <code>WHERE</code>, sans taper de SQL.</li></ul></li><li>Les persister en base (méthodes <code>persist($object)</code> et <code>flush()</code> du service <code>EntityManagerInterface</code>)</li><li>Rediriger vers la page de liste <code>/music</code></li></ul></li><li><p>Créer une route pour le chemin <code>/music/{id}</code> (dans le même controller que précédemment) qui va :</p><ul><li>Prendre en paramètre un objet <code>Music</code></li><li>Créer un template qui va en afficher les différentes propriétés (y compris le nom du morceau, à l&#39;aide de <code>music.composer.name</code>)</li></ul></li><li><p>Compléter votre vue de l&#39;exercice <code>5.4.3</code> pour récupérer les musiques associées (et/ou vérifier que tout fonctionne)</p></li></ul><h2 id="_6-manier-le-querybuilder" tabindex="-1"><a class="header-anchor" href="#_6-manier-le-querybuilder"><span>6. Manier le QueryBuilder</span></a></h2><p>Maintenant, nous allons écrire des requêtes, dans nos repositories, en utilisant le QueryBuilder de Doctrine.</p><p>Pour chacune des requêtes demandées, les tester dans un controller, où vous avez préalablement injecté le repository.</p><p>Dans <code>ComposerRespository</code>, écrire :</p><ul><li>Une méthode <code>bornAfter(int $year)</code> qui prend en paramètre une année, et renvoie tous les compositeurs nés après l&#39;année <code>$year</code></li><li>Une méthode <code>bornBetween(int $start, int $end)</code> qui prend en paramètre deux années, une de début, une de fin, et renvoie tous les compositeurs nés après l&#39;année <code>$start</code> et avant l&#39;année <code>$end</code></li><li>Une méthode <code>searchInName(string $name)</code> qui prend en paramètre un nom ou un morceau de nom, et renvoie tous les compositeurs dont le nom correspond à la recherche (utiliser <code>LIKE %recherche%</code>)</li></ul><p>Dans <code>MusicRepository</code>, écrire :</p><ul><li>Une méthode <code>searchInName(string $name)</code> sur le même principe que la précédente</li><li>Une méthode <code>searchByComposerName(string $composerName)</code> qui prend en paramètre un nom ou un morceau de nom de compositeur et renvoie tous les morceaux correspondant.</li></ul><p>Dans <code>ComposerRespository</code> de nouveau, écrire :</p><ul><li>Une méthode <code>search(string $text)</code> qui prend en paramètre un nom ou un morceau de nom, et renvoie tous les compositeurs dont <ul><li>le nom correspond à la recherche (utiliser <code>LIKE %recherche%</code>)</li><li>ou le nom d&#39;un morceau qu&#39;il a composé correspond à la recherche</li></ul></li><li>Tester ce repository dans un controller</li></ul><h2 id="_7-projet-outil-de-montage-d-ordinateurs" tabindex="-1"><a class="header-anchor" href="#_7-projet-outil-de-montage-d-ordinateurs"><span>7. Projet : outil de montage d&#39;ordinateurs</span></a></h2><p>Un <a href="https://github.com/Dreeckan/symfony-computer" target="_blank" rel="noopener noreferrer">&quot;corrigé&quot; de l&#39;exercice</a> est disponible sur Github. Pour les tickets créés, voir la <a href="https://github.com/Dreeckan/symfony-computer/issues?q=is%3Aissue" target="_blank" rel="noopener noreferrer">liste des issues</a>.</p><p>Nous avons reçu ce cahier des charges :</p><blockquote><p>Nous sommes une entreprise de vente d&#39;ordinateurs prêt à l&#39;emploi et personnalisés. Notre objectif est que tous nos clients puissent avoir un ordinateur qui leur correspond et réponde à leurs besoins de manière efficace.</p><p>Pour répondre à cette demande, nos techniciens / monteurs souhaitent disposer d&#39;un outil pour préparer les configurations à présenter à nos clients. Cet outil devra permettre de :</p><ul><li>Créer des composants (CPU, RAM, carte graphique, boitier, alimentation, disque dur (ou SSD), carte mère, carte réseau), les modifier et les supprimer</li><li>Créer des périphériques (Clavier, souris, écran, enceintes, webcam), les modifier et les supprimer</li><li>Créer des ordinateurs, qui contiendront divers composants (un de chaque en général) et qui auront des périphériques associés (un de chaque également), les modifier et les supprimer</li></ul><p>Cet outil sera installé en interne et nous n&#39;aurons pour le moment pas besoin de nous connecter / gérer des utilisateurs</p><p>Chaque élément aura un ensemble de caractéristiques (que nous verrons dans un deuxième cahier des charges), mais surtout un prix unitaire (en € HT). Notre programme devra calculer le prix des ordinateurs montés à partir du prix des pièces.</p></blockquote><p>L&#39;objectif est maintenant de découper cette demande pour pouvoir la traiter et se partager les tâches au sein de notre équipe. Pour cela il va falloir :</p><ul><li>Faire le MCD (un exemple de ce qu&#39;on a fait, <a href="/assets/mcd-computer.png" target="_blank" rel="noopener noreferrer">au format image</a>, ou <a href="/assets/mcd-computer.loo" target="_blank" rel="noopener noreferrer">le fichier Looping</a>)</li><li>Déterminer les différentes fonctionnalités</li><li>Créer le projet sur Github</li><li>Inviter les différents participants</li><li>Créer des tickets associés (Issues sur Github par exemple) <ul><li>ces tickets doivent être cours à traiter (2 à 4h grand maximum)</li></ul></li><li>Se les répartir entre les différents développeurs</li><li>Avancer en parallèle (ou tous ensemble, les deux méthodes sont possibles)</li></ul><h3 id="_7-1-premieres-ameliorations" tabindex="-1"><a class="header-anchor" href="#_7-1-premieres-ameliorations"><span>7.1. Premières améliorations</span></a></h3><p>Notre client est content de nos avancées, et il a besoin de nouvelles fonctionnalités pour rendre son outil plus pratique. Voici ce qu&#39;il a écrit :</p><blockquote><p>Maintenant que nous pouvons travailler, il nous manque 2 choses</p><ul><li>un menu pour naviguer entre les différentes pages (présent sur toutes les pages)</li><li>Une page d&#39;accueil pour voir les informations importantes : <ul><li>Le nombre d&#39;ordinateurs préparés (c&#39;est-à-dire qui ont le bon nombre de périphériques et de composants)</li><li>Le prix moyen des ordinateurs qui ont été préparés (c&#39;est-à-dire qui ont le bon nombre de périphériques et de composants)</li><li>Le prix total des composants en stock</li><li>Le prix total des périphériques en stock</li></ul></li></ul></blockquote><p>De nouveau, il faut :</p><ul><li>Découper la demande en fonctionnalités</li><li>Créer des tickets (issues)</li><li>Les répartir</li><li>Les coder (une fois fait, créer des PR et les faire relire par les autres membres du groupe)</li></ul><p>Outils utiles :</p><ul><li>Faire votre menu directement dans base.html.twig (utiliser KnpMenuBundle si vous êtes très courageux...)</li><li><code>COUNT</code> et <code>SUM</code> peuvent être utilisées directement dans le <code>select()</code> du QueryBuilder</li><li><code>-&gt;getQuery()-&gt;getSingleScalarResult()</code> vous permet de ne récupérer qu&#39;un seul résultat (un nombre) avec des requêtes <code>SUM</code> / <code>COUNT</code></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Dernières mise à jour : </span><!----></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/cours/symfony/90-doggies.html" aria-label="Projet : annonces de SPA / éleveurs"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Projet : annonces de SPA / éleveurs</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/cours/assets/app-BkblVdII.js" defer></script>
  </body>
</html>
