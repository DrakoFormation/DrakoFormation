import{aj as d,ak as u,am as l,an as o,ao as n,al as s,ar as r,ap as t,aq as c}from"./app-BkblVdII.js";const p={},m={class:"table-of-contents"};function f(b,e){const i=t("router-link"),a=t("RouteLink");return c(),u("div",null,[e[13]||(e[13]=l("h1",{id:"exercices-bdd-avec-pdo",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#exercices-bdd-avec-pdo"},[l("span",null,"Exercices - BdD avec PDO")])],-1)),l("nav",m,[l("ul",null,[l("li",null,[o(i,{to:"#_26-creer-une-base-de-donnees"},{default:n(()=>e[0]||(e[0]=[r("26. Créer une base de données")])),_:1}),l("ul",null,[l("li",null,[o(i,{to:"#correction"},{default:n(()=>e[1]||(e[1]=[r("Correction")])),_:1})])])]),l("li",null,[o(i,{to:"#_27-formulaire-de-contact-en-bdd"},{default:n(()=>e[2]||(e[2]=[r("27. Formulaire de contact, en BdD")])),_:1}),l("ul",null,[l("li",null,[o(i,{to:"#correction-1"},{default:n(()=>e[3]||(e[3]=[r("Correction")])),_:1})])])]),l("li",null,[o(i,{to:"#_28-utiliser-les-donnees-de-la-bdd"},{default:n(()=>e[4]||(e[4]=[r("28. Utiliser les données de la BdD")])),_:1}),l("ul",null,[l("li",null,[o(i,{to:"#pull-request"},{default:n(()=>e[5]||(e[5]=[r("Pull Request")])),_:1})]),l("li",null,[o(i,{to:"#correction-2"},{default:n(()=>e[6]||(e[6]=[r("Correction")])),_:1})])])]),l("li",null,[o(i,{to:"#_29-mvc-et-namespaces-difficile"},{default:n(()=>e[7]||(e[7]=[r("29. MVC et namespaces (⚠️ difficile)")])),_:1}),l("ul",null,[l("li",null,[o(i,{to:"#correction-3"},{default:n(()=>e[8]||(e[8]=[r("Correction")])),_:1})])])]),l("li",null,[o(i,{to:"#revisions"},{default:n(()=>e[9]||(e[9]=[r("Révisions")])),_:1})])])]),e[14]||(e[14]=s('<p>Pré-requis :</p><ul><li>avoir un environnement de travail (<a href="https://www.wampserver.com/" target="_blank" rel="noopener noreferrer">Wamp</a> / <a href="https://www.apachefriends.org/fr/index.html" target="_blank" rel="noopener noreferrer">Xampp</a> / <a href="https://www.mamp.info/en/downloads/" target="_blank" rel="noopener noreferrer">Mamp</a> ou équivalent)</li><li>avoir des bases de PHP</li></ul><p>Correction :</p><ul><li>En vidéo, tout le long des exercices (après l&#39;énoncé correspondant)</li><li>Dans le code, sur <a href="https://github.com/Dreeckan/beanies/pulls?q=is%3Apr" target="_blank" rel="noopener noreferrer">le repository dédié aux corrections sur GitHub</a>.</li></ul><h2 id="_26-creer-une-base-de-donnees" tabindex="-1"><a class="header-anchor" href="#_26-creer-une-base-de-donnees"><span>26. Créer une base de données</span></a></h2><ul><li>Ouvrir <a href="http://localhost/phpmyadmin/" target="_blank" rel="noopener noreferrer">PhpMyAdmin</a></li><li>Y créer une base de données <code>exo_beanies</code></li><li>Créer des tables pour les objets <ul><li><code>Contact</code> (nommer la table <code>contact</code>)</li><li><code>Beanie</code> (nommer la table <code>beanie</code>)</li></ul></li><li>Créer un fichier de connexion à la BdD <code>includes/config.inc.php</code> et faire en sorte d&#39;avoir une connexion fonctionnelle dans toutes vos pages.</li><li>Insérer des données dans la table <code>beanie</code> à l&#39;aide de <strong>l&#39;une des deux méthodes</strong> suivantes : <ul><li>dans PhpMyAdmin, ajouter des données dans la table <code>beanie</code> (avec les valeurs de votre fichier <code>variables.php</code> par exemple)</li><li>écrire un script PHP <code>includes/fixtures.php</code> insérant les données</li></ul></li></ul><h3 id="correction" tabindex="-1"><a class="header-anchor" href="#correction"><span>Correction</span></a></h3>',7)),e[15]||(e[15]=l("iframe",{class:"yt-video",src:"https://www.youtube.com/embed/8rv2uU_YaSQ",title:"Exercice 1",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; web-share",allowfullscreen:""},null,-1)),e[16]||(e[16]=l("h2",{id:"_27-formulaire-de-contact-en-bdd",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#_27-formulaire-de-contact-en-bdd"},[l("span",null,"27. Formulaire de contact, en BdD")])],-1)),e[17]||(e[17]=l("ul",null,[l("li",null,[r("Modifier votre page de contact pour insérer les données du formulaire dans la table "),l("code",null,"contact"),l("ul",null,[l("li",null,[r("N'insérer les données "),l("strong",null,"que"),r(" si aucune erreur n'est remontée")])])])],-1)),e[18]||(e[18]=l("h3",{id:"correction-1",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#correction-1"},[l("span",null,"Correction")])],-1)),e[19]||(e[19]=l("iframe",{class:"yt-video",src:"https://www.youtube.com/embed/wO0-9wz_Fqo",title:"Exercice 1",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; web-share",allowfullscreen:""},null,-1)),e[20]||(e[20]=s('<h2 id="_28-utiliser-les-donnees-de-la-bdd" tabindex="-1"><a class="header-anchor" href="#_28-utiliser-les-donnees-de-la-bdd"><span>28. Utiliser les données de la BdD</span></a></h2><p>Choisissez <strong>l&#39;une des deux</strong> méthodes suivantes pour remplir nos bonnets depuis la BdD :</p><ul><li>Créer une classe <code>BeanieFactory</code> dans <code>classes/Factory/BeanieFactory.php</code> qui va avoir une méthode <code>create()</code><ul><li>ayant pour paramètre un tableau (une ligne récupérée dans la BdD)</li><li>renvoyant un objet <code>Beanie</code> contenant les données venues de la table</li></ul></li><li>Utilisez le flag <code>FETCH_CLASS</code> de PDO pour remplir les objets à l&#39;aide de la BdD</li><li>Modifier vos pages pour récupérer les données depuis la table <code>beanie</code>, plutôt qu&#39;une variable <ul><li>Adapter le code des différentes pages pour utiliser la BdD plutôt que le tableau (fixe), utilisé jusqu&#39;à présent</li></ul></li></ul><h3 id="pull-request" tabindex="-1"><a class="header-anchor" href="#pull-request"><span>Pull Request</span></a></h3><ul><li>Créez une Pull Request</li><li>Invitez quelqu&#39;un.e sur votre projet</li><li>Faites vous inviter par cette personne également</li><li>Relisez le code et faites vos retours (vérifiez que le code valide bien les normes PSR-12 <strong>et</strong> PSR-4, par exemple)</li><li>Approuvez (ou non) sa PR</li><li>Une fois votre PR validée par un.e pair.e, vous pouvez la fusionner (merge)</li></ul><h3 id="correction-2" tabindex="-1"><a class="header-anchor" href="#correction-2"><span>Correction</span></a></h3>',6)),e[21]||(e[21]=l("iframe",{class:"yt-video",src:"https://www.youtube.com/embed/e-_-ni-t1s0",title:"Exercice 1",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; web-share",allowfullscreen:""},null,-1)),e[22]||(e[22]=l("h2",{id:"_29-mvc-et-namespaces-difficile",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#_29-mvc-et-namespaces-difficile"},[l("span",null,"29. MVC et namespaces (⚠️ difficile)")])],-1)),l("p",null,[e[11]||(e[11]=r("Notre site ne suit pas parfaitement ")),o(a,{to:"/php/40-mvc.html"},{default:n(()=>e[10]||(e[10]=[r("le modèle MVC")])),_:1}),e[12]||(e[12]=r(". Il nous faudrait améliorer ça et re-structurer un peu les fichiers et leur organisation. Ce que nous voulons faire :"))]),e[23]||(e[23]=s('<ul><li>Renommer le dossier <code>class</code> en <code>src</code> et y créer <strong>au moins</strong> 3 sous-dossiers : <code>Model</code>, <code>View</code> et <code>Controller</code></li><li>Déplacer les vues (pages) dans <code>View</code></li><li>Ranger les classes que vous aviez créées dans <code>Model</code> ou dans un autre dossier (par exemple, j&#39;ai un dossier <code>Service</code> pour certaines classes)</li><li>Créer un objet Controller par page et y déplacer la logique (calculs PHP actuellement dans les pages)</li><li>Faire en sorte que le front controller (<code>index.php</code>) appelle le bon contrôleur en fonction de l&#39;url</li></ul><p>⚠️ Pensez bien à mettre à jour les namespaces de vos classes et <strong>tous</strong> les appels à ces classes.</p><h3 id="correction-3" tabindex="-1"><a class="header-anchor" href="#correction-3"><span>Correction</span></a></h3>',3)),e[24]||(e[24]=l("iframe",{class:"yt-video",src:"https://www.youtube.com/embed/L72w3ncAHRE",title:"Exercice 1",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; web-share",allowfullscreen:""},null,-1)),e[25]||(e[25]=l("iframe",{class:"yt-video",src:"https://www.youtube.com/embed/oS18WpW99eM",title:"Exercice 1",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; web-share",allowfullscreen:""},null,-1)),e[26]||(e[26]=l("iframe",{class:"yt-video",src:"https://www.youtube.com/embed/Oq7ELSBr6V0",title:"Exercice 1",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; web-share",allowfullscreen:""},null,-1)),e[27]||(e[27]=l("h2",{id:"revisions",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#revisions"},[l("span",null,"Révisions")])],-1)),e[28]||(e[28]=l("p",null,[r("Pour réviser tous ces points et les travailler, vous pouvez "),l("a",{href:"https://github.com/Dreeckan/exercices-php/blob/main/revisions.md",target:"_blank",rel:"noopener noreferrer"},"vous entrainer avec ces exercices de révision"),r(".")],-1))])}const h=d(p,[["render",f],["__file","85-bdd-pdo.html.vue"]]),w=JSON.parse('{"path":"/php/85-bdd-pdo.html","title":"Exercices - BdD avec PDO","lang":"fr-FR","frontmatter":{"date":"2023-04-06T00:00:00.000Z"},"headers":[{"level":2,"title":"26. Créer une base de données","slug":"_26-creer-une-base-de-donnees","link":"#_26-creer-une-base-de-donnees","children":[{"level":3,"title":"Correction","slug":"correction","link":"#correction","children":[]}]},{"level":2,"title":"27. Formulaire de contact, en BdD","slug":"_27-formulaire-de-contact-en-bdd","link":"#_27-formulaire-de-contact-en-bdd","children":[{"level":3,"title":"Correction","slug":"correction-1","link":"#correction-1","children":[]}]},{"level":2,"title":"28. Utiliser les données de la BdD","slug":"_28-utiliser-les-donnees-de-la-bdd","link":"#_28-utiliser-les-donnees-de-la-bdd","children":[{"level":3,"title":"Pull Request","slug":"pull-request","link":"#pull-request","children":[]},{"level":3,"title":"Correction","slug":"correction-2","link":"#correction-2","children":[]}]},{"level":2,"title":"29. MVC et namespaces (⚠️ difficile)","slug":"_29-mvc-et-namespaces-difficile","link":"#_29-mvc-et-namespaces-difficile","children":[{"level":3,"title":"Correction","slug":"correction-3","link":"#correction-3","children":[]}]},{"level":2,"title":"Révisions","slug":"revisions","link":"#revisions","children":[]}],"git":{"updatedTime":1736283917000},"filePathRelative":"php/85-bdd-pdo.md"}');export{h as comp,w as data};
