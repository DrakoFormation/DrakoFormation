import{aj as i,ak as o,am as s,an as e,ao as t,al as p,ap as r,aq as c,ar as l}from"./app-BkblVdII.js";const u={},d={class:"table-of-contents"};function m(v,n){const a=r("router-link");return c(),o("div",null,[n[2]||(n[2]=s("h1",{id:"travailler-avec-docker",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#travailler-avec-docker"},[s("span",null,"Travailler avec Docker")])],-1)),s("nav",d,[s("ul",null,[s("li",null,[e(a,{to:"#pre-requis"},{default:t(()=>n[0]||(n[0]=[l("Pré-requis")])),_:1})]),s("li",null,[e(a,{to:"#utilisation"},{default:t(()=>n[1]||(n[1]=[l("Utilisation")])),_:1})])])]),n[3]||(n[3]=p(`<p>Dans les dernières versions de Symfony, la création d&#39;un projet s&#39;accompagne d&#39;un fichier <code>docker-compose.yml</code>, permettant de travailler facilement avec Docker. Grâce à cela, plus besoin de Wamp !</p><h2 id="pre-requis" tabindex="-1"><a class="header-anchor" href="#pre-requis"><span>Pré-requis</span></a></h2><ul><li><a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker</a> doit être installé</li><li>Avoir un projet Symfony prêt à être lancé</li></ul><h2 id="utilisation" tabindex="-1"><a class="header-anchor" href="#utilisation"><span>Utilisation</span></a></h2><p>Le fichier <code>docker-compose.yml</code> fourni :</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token comment">###&gt; doctrine/doctrine-bundle ###</span></span>
<span class="line">  <span class="token key atrule">database</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres<span class="token punctuation">:</span>$<span class="token punctuation">{</span>POSTGRES_VERSION<span class="token punctuation">:</span><span class="token number">-13</span><span class="token punctuation">}</span><span class="token punctuation">-</span>alpine</span>
<span class="line">    <span class="token key atrule">environment</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">POSTGRES_DB</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>POSTGRES_DB<span class="token punctuation">:</span><span class="token punctuation">-</span>app<span class="token punctuation">}</span></span>
<span class="line">      <span class="token comment"># You should definitely change the password in production</span></span>
<span class="line">      <span class="token key atrule">POSTGRES_PASSWORD</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>POSTGRES_PASSWORD<span class="token punctuation">:</span><span class="token punctuation">-</span>ChangeMe<span class="token punctuation">}</span></span>
<span class="line">      <span class="token key atrule">POSTGRES_USER</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>POSTGRES_USER<span class="token punctuation">:</span><span class="token punctuation">-</span>symfony<span class="token punctuation">}</span></span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> db<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/postgresql/data<span class="token punctuation">:</span>rw</span>
<span class="line">      <span class="token comment"># You may use a bind-mounted host directory instead, so that it is harder to accidentally remove the volume and lose all your data!</span></span>
<span class="line">      <span class="token comment"># - ./docker/db/data:/var/lib/postgresql/data:rw</span></span>
<span class="line"><span class="token comment">###&lt; doctrine/doctrine-bundle ###</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token comment">###&gt; doctrine/doctrine-bundle ###</span></span>
<span class="line">  <span class="token key atrule">db-data</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token comment">###&lt; doctrine/doctrine-bundle ###</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Par défaut, ce fichier permet de créer un serveur de <abbr title="Base de Données">BdD</abbr> <a href="https://www.postgresql.org/" target="_blank" rel="noopener noreferrer">PostgreSQL</a>. Vous n&#39;avez alors rien à changer pour commencer à travailler !</p><p>Avec cette configuration, vérifiez bien que votre fichier <code>.env</code> (ou <code>.env.local</code>) contient :</p><div class="language-dotenv line-numbers-mode" data-highlighter="prismjs" data-ext="dotenv" data-title="dotenv"><pre><code><span class="line">DATABASE_URL=&quot;postgresql://symfony:ChangeMe@127.0.0.1:5432/app?serverVersion=13&amp;charset=utf8&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Pour commencer à travailler, lancer la commande <code>docker compose up -d</code> dans votre terminal, puis <code>symfony serve</code>, et (théoriquement) tout est prêt !</p><p>⚠️ Il n&#39;y a pas d&#39;équivalent à PhpMyAdmin fourni ! Pour voir le contenu de votre <abbr title="Base de Données">BdD</abbr>, il faut utiliser les outils intégrés de l&#39;<abbr title="Integrated Development Environment">IDE</abbr> (onglet Database de PhpStorm ou son équivalent dans VsCode)</p>`,11))])}const b=i(u,[["render",m],["__file","82-docker.html.vue"]]),h=JSON.parse('{"path":"/symfony/82-docker.html","title":"Travailler avec Docker","lang":"fr-FR","frontmatter":{"date":"2021-10-25T00:00:00.000Z"},"headers":[{"level":2,"title":"Pré-requis","slug":"pre-requis","link":"#pre-requis","children":[]},{"level":2,"title":"Utilisation","slug":"utilisation","link":"#utilisation","children":[]}],"git":{"updatedTime":1736283917000},"filePathRelative":"symfony/82-docker.md"}');export{b as comp,h as data};
